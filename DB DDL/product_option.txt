CREATE TABLE product_option (
    option_id        BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    product_id       BIGINT UNSIGNED NOT NULL,

    color            VARCHAR(50) NOT NULL DEFAULT 'DEFAULT'
                     COMMENT '색상',
    size             VARCHAR(50) NOT NULL DEFAULT 'FREE'
                     COMMENT '사이즈',
    stock_quantity   INT NOT NULL
                     COMMENT '재고 수량',

    created_at       TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at       TIMESTAMP DEFAULT CURRENT_TIMESTAMP
                     ON UPDATE CURRENT_TIMESTAMP,

    CONSTRAINT fk_option_product
        FOREIGN KEY (product_id)
        REFERENCES product(product_id),

    CONSTRAINT uk_product_option
        UNIQUE (product_id, color, size),

    CONSTRAINT chk_stock_quantity
        CHECK (stock_quantity >= 0)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;