CREATE TABLE refresh_token (
  refresh_token_id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id VARCHAR(36) NOT NULL,
  token VARCHAR(500) NOT NULL,
  expired_at DATETIME NOT NULL,
  is_revoked BOOLEAN NOT NULL DEFAULT FALSE,
  created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,

  UNIQUE KEY uk_refresh_token (token),
  KEY idx_refresh_user (user_id),

  CONSTRAINT fk_refresh_user
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);
