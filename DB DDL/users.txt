CREATE TABLE users (
    user_id        VARCHAR(36)  NOT NULL PRIMARY KEY,
    
    name           VARCHAR(100) NOT NULL,
    email          VARCHAR(255) NOT NULL UNIQUE,
    password       VARCHAR(255) NULL,
    
    phone          VARCHAR(30)  NULL,

    role           VARCHAR(20)  NOT NULL DEFAULT 'ROLE_USER',
    
    status         VARCHAR(20)  NOT NULL DEFAULT 'ACTIVE',
    
    login_type     VARCHAR(20)  NOT NULL DEFAULT 'LOCAL',
    provider       VARCHAR(20)  NULL,
    provider_id    VARCHAR(100) NULL,

    last_login_at  DATETIME     NULL,

    created_at     DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at     DATETIME     NOT NULL DEFAULT CURRENT_TIMESTAMP
                                 ON UPDATE CURRENT_TIMESTAMP,

    UNIQUE KEY uk_provider (provider, provider_id)
);
